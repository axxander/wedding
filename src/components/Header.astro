---
import NavLink from "./NavLink.astro";
import CTA from "./CTA.astro";
---

<header class="header-container flex items-center justify-between py-6">
  <a href="/" class="uppercase text-2xl md:text-3xl text-blue-500"
    >Megan & Alex</a
  >
  <nav class="hidden md:flex items-center gap-8 md:text-lg">
    <NavLink href="/menu">Menu</NavLink>
    <NavLink href="/faq">FAQ</NavLink>
    <NavLink href="/travel">Travel & Stay</NavLink>
    <CTA href="/rsvp"> RSVP </CTA>
  </nav>
  <button
    class="md:hidden text-blue-500 text-2xl"
    aria-label="Menu"
    id="menu-open">☰</button
  >
</header>

<div id="mobile-menu" class="fixed inset-0 bg-cream-100 hidden md:hidden z-50">
  <div class="header-container flex h-full flex-col">
    <div class="flex items-center justify-between py-6">
      <a href="/" class="uppercase text-2xl text-blue-500">Megan & Alex</a>
      <button
        class="text-2xl text-blue-500"
        aria-label="Close menu"
        id="menu-close">✕</button
      >
    </div>
    <nav
      class="flex flex-col items-center justify-center flex-1 gap-8 text-2xl"
    >
      <NavLink href="/menu">Menu</NavLink>
      <NavLink href="/faq">FAQ</NavLink>
      <NavLink href="/travel">Travel & Stay</NavLink>
      <CTA href="/rsvp">RSVP</CTA>
    </nav>
  </div>
</div>

<script>
  const menuOpen = document.getElementById("menu-open");
  const menuClose = document.getElementById("menu-close");
  const mobileMenu = document.getElementById("mobile-menu");

  if (menuOpen && menuClose && mobileMenu) {
    menuOpen.addEventListener("click", () => {
      mobileMenu.classList.remove("hidden");
    });

    menuClose.addEventListener("click", () => {
      mobileMenu.classList.add("hidden");
    });
  }
</script>
